# `/kaizen` コマンド - Claude Code 継続的改善ツール

## 概要

`/kaizen` は、Claude Codeとの対話履歴を分析し、プロジェクト設定を自動的に改善するコマンドです。「改善（Kaizen）」の精神に基づき、日々のフィードバックを活かしてClaude Codeの動作を最適化します。

## 何ができるのか

conversation.logに記録されたユーザーフィードバックを解析し、以下を自動生成します：

- **ガイドライン** - Claude Codeの振る舞いルール
- **スキル** - 自動実行される専門機能
- **フック** - 特定イベント時の自動処理
- **コマンド** - 再利用可能なワークフロー

## 動作フロー

```
┌─────────────────────────────────────────────────────────────┐
│ 1. フィードバック収集                                        │
│    ┌──────────────────────────────────────────────┐         │
│    │ conversation.log (対話履歴)                   │         │
│    │ - "冗長すぎます" (15回)                       │         │
│    │ - "すぐに実行しないで" (3回)                 │         │
│    │ - "他に漏れはないか" (10回)                  │         │
│    └──────────────────────────────────────────────┘         │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│ 2. パターン分析                                              │
│    ┌──────────────────────────────────────────────┐         │
│    │ 🔍 AIによる分析                              │         │
│    │ - 繰り返し指摘される問題を特定               │         │
│    │ - フィードバックの頻度を集計                 │         │
│    │ - 根本原因を推定                             │         │
│    └──────────────────────────────────────────────┘         │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│ 3. 改善案の生成                                              │
│    ┌──────────────────────────────────────────────┐         │
│    │ 📋 提案リスト                                │         │
│    │ ✓ ドキュメント作成ガイドライン               │         │
│    │ ✓ セルフレビューチェックリスト               │         │
│    │ ✓ 実行前確認プロセス                         │         │
│    │ ✓ 自動レビュースキル                         │         │
│    └──────────────────────────────────────────────┘         │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│ 4. ユーザー承認                                              │
│    ┌──────────────────────────────────────────────┐         │
│    │ 💬 改善案を提示                              │         │
│    │ "これらの改善を実施しますか？"               │         │
│    │ [ 承認 / 修正 / 拒否 ]                       │         │
│    └──────────────────────────────────────────────┘         │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│ 5. 設定の更新                                                │
│    ┌──────────────────────────────────────────────┐         │
│    │ 📝 ファイル生成・更新                        │         │
│    │ .claude/                                     │         │
│    │ ├── guidelines/  ← ガイドライン追加         │         │
│    │ ├── skills/      ← スキル追加               │         │
│    │ ├── hooks/       ← フック設定               │         │
│    │ └── commands/    ← コマンド追加             │         │
│    └──────────────────────────────────────────────┘         │
└─────────────────────────────────────────────────────────────┘
```

## 実例: このプロジェクトでの改善

`/kaizen` を実行した結果、以下の改善が自動提案・実施されました：

### 発見されたフィードバックパターン

| フィードバック | 頻度 | 問題点 |
|--------------|------|--------|
| "冗長すぎます" | 15回 | ドキュメントが詳しすぎる |
| "他に漏れはないか" | 10回 | 実装の完全性チェック不足 |
| "すぐに実行しないで" | 3回 | 実行タイミングの判断ミス |

### 生成された改善

**1. ガイドライン (4ファイル)**
```
.claude/guidelines/
├── self-review.md              # セルフレビュー手順
├── documentation.md            # 簡潔な文章作成ルール
├── execution.md                # 実行前確認事項
└── test-failure-handling.md    # テスト失敗時の対応
```

**2. スキル (2ファイル)**
```
.claude/skills/
├── code-reviewer/   # コードとドキュメントの整合性チェック
└── doc-reviewer/    # ドキュメント品質チェック
```

## 使い方

```bash
# Claude Code セッション内で実行
/kaizen
```

実行すると：
1. 対話履歴を自動分析（数秒〜数分）
2. 改善提案を表示
3. 承認を求められる
4. 承認すると設定ファイルを自動生成
5. gitコミット推奨

## 期待される効果

### Before (改善前)
```
ユーザー: "新機能を実装して"
Claude: [実装]
ユーザー: "冗長すぎます"
Claude: [修正]
ユーザー: "他に漏れはないですか？"
Claude: [追加修正]
ユーザー: "まだあります..."
```

### After (改善後)
```
ユーザー: "新機能を実装して"
Claude: [ガイドラインに従って実装]
       [セルフレビュー実施]
       [完全な実装を一度に提供]
ユーザー: "完璧です！"
```

## 継続的改善サイクル

```
  ┌─────────────┐
  │   使用      │
  └──────┬──────┘
         │
         ↓
  ┌─────────────┐
  │ フィードバック│
  └──────┬──────┘
         │
         ↓
  ┌─────────────┐
  │  /kaizen    │ ← 定期的に実行
  └──────┬──────┘
         │
         ↓
  ┌─────────────┐
  │   改善      │
  └──────┬──────┘
         │
         └──→ (繰り返し)
```

## 推奨される使用頻度

- **週次**: プロジェクト初期〜中期
- **隔週**: プロジェクト安定期
- **月次**: 設定が成熟した段階

## 注意事項

- conversation.logのサイズが大きい場合、分析に時間がかかります
- 既存設定を上書きしないよう、変更前に確認が入ります
- 生成されたファイルは人間がレビュー可能です

## まとめ

`/kaizen` は、Claude Codeを「自分たちのプロジェクトに最適化されたAIペア」に育てるツールです。使えば使うほど、チームのワークフローに適応していきます。

---

**今すぐ試してみてください！**
```
/kaizen
```
